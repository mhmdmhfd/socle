vault:
  csi:
    agent:
      image:
        repository: <path:forge-dso/data/env/dso-hp-testcm/apps/common/values#image
          | jsonPath {.repository.docker}>/hashicorp/vault
    image:
      repository: <path:forge-dso/data/env/dso-hp-testcm/apps/common/values#image
        | jsonPath {.repository.docker}>/hashicorp/vault-csi-provider
  global:
    serverTelemetry:
      prometheusOperator: true
  injector:
    agentImage:
      repository: <path:forge-dso/data/env/dso-hp-testcm/apps/common/values#image
        | jsonPath {.repository.docker}>/hashicorp/vault
    image:
      repository: <path:forge-dso/data/env/dso-hp-testcm/apps/common/values#image
        | jsonPath {.repository.docker}>/hashicorp/vault-k8s
    metrics:
      enabled: true
    securityContext:
      container:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
      pod:
        fsGroup: 1000
        runAsGroup: 1000
        runAsNonRoot: true
        runAsUser: 100
  server:
    auditStorage:
      enable: true
    config: "ui = true\nlistener \"tcp\" {\n  tls_disable = 1\n  address = \"[::]:8200\"\n
      \ cluster_address = \"[::]:8201\"\n  telemetry {\n    unauthenticated_metrics_access
      = \"false\"\n  }\n}\nstorage \"file\" {\n  path = \"/vault/data\"\n}\ntelemetry
      {\n  prometheus_retention_time = \"30s\"\n  disable_hostname = true\n}\n"
    dataStorage:
      enable: true
      size: 4Gi
    extraEnvironmentVars:
      HTTPS_PROXY: <path:forge-dso/data/env/dso-hp-testcm/apps/common/values#proxy
        | jsonPath {.httpsProxy}>
      HTTP_PROXY: <path:forge-dso/data/env/dso-hp-testcm/apps/common/values#proxy
        | jsonPath {.httpProxy}>
      NO_PROXY: <path:forge-dso/data/env/dso-hp-testcm/apps/common/values#proxy |
        jsonPath {.noProxy}>,.testcm-vault-internal
    ha:
      apiAddr: https://<path:forge-dso/data/env/dso-hp-testcm/apps/common/values#domain
        | jsonPath {.vault}>
      enabled: true
      raft:
        config: "ui = true\nservice_registration \"kubernetes\" {}\nlistener \"tcp\"
          {\n  tls_disable = 1\n  address = \"[::]:8200\"\n  cluster_address = \"[::]:8201\"\n
          \ telemetry {\n    unauthenticated_metrics_access = \"false\"\n  }\n}\nstorage
          \"raft\" {\n  path = \"/vault/data\"\n}\ntelemetry {\n  prometheus_retention_time
          = \"30s\"\n  disable_hostname = true\n}\n"
        enabled: true
      replicas: 3
    image:
      repository: <path:forge-dso/data/env/dso-hp-testcm/apps/common/values#image
        | jsonPath {.repository.docker}>/hashicorp/vault
    route:
      enabled: false
    standalone:
      enabled: false
    statefulSet:
      securityContext:
        container:
          allowPrivilegeEscalation: false
        pod:
          fsGroup: 1000
          runAsGroup: 1000
          runAsNonRoot: true
          runAsUser: 100
  serverTelemetry:
    serviceMonitor:
      enabled: true
